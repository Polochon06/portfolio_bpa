---
import SiteHead from '../components/SiteHead.astro'
import SiteFoot from '../components/SiteFoot.astro'
import SiteScrollbar from '../components/SiteScrollbar.astro'
import logo from '../assets/logo.png'
import '../styles/global.scss'
---

<html lang="fr" class="is-scroll-blocked theme-contrasted">
  <head>
    <meta charset="utf-8" />
    <title>After Effects Workflow | Paul Blanc</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Découvrez mon workflow After Effects et les plugins que j'utilise pour créer du motion design et des effets visuels."
    />
    <link rel="icon" type="image/png" href="/icons/favicon-48x48.png" />

    <!-- Fonts -->
    <link
      rel="preload"
      href="/fonts/PPEditorialNew-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/PPEditorialNew-Ultralight.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/PPFraktionMono-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/PPFraktionMono-Bold.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/Bigger-Display.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />

    <style lang="scss">
      @import url('https://fonts.googleapis.com/css2?family=Italiana&display=swap');

      :root {
        --ae-bg: #0a0a0f;
        --ae-text: #e8e8f0;
        --ae-text-muted: #a0a0b8;
        --ae-accent: #f40c3f;
        --ae-accent-dim: rgba(244, 12, 63, 0.12);
        --ae-purple: #9b59b6;
        --ae-purple-dim: rgba(155, 89, 182, 0.15);

        --font-serif: 'Italiana', serif;
        --font-mono: 'PP Fraktion Mono', monospace;

        --ease-out: cubic-bezier(0.16, 1, 0.3, 1);

        --glass-bg: rgba(18, 18, 28, 0.5);
        --glass-border: rgba(255, 255, 255, 0.08);
        --glass-highlight: rgba(255, 255, 255, 0.03);
        --glass-blur: blur(20px);
        --glass-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
      }

      .ae-page {
        margin: 0;
        background-color: var(--ae-bg);
        color: var(--ae-text);
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        min-height: 100vh;
        padding-bottom: 4rem;
      }

      /* Ambient gradient */
      .ambient-light {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
          radial-gradient(circle at 20% 20%, rgba(155, 89, 182, 0.06), transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(244, 12, 63, 0.04), transparent 50%);
        pointer-events: none;
        z-index: 1;
      }

      /* Floating particles */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
        overflow: hidden;
      }

      .particle {
        position: absolute;
        bottom: -20px;
        width: 4px;
        height: 4px;
        background: var(--ae-accent);
        border-radius: 50%;
        opacity: 0;
        animation: float var(--duration) infinite ease-in-out;
        animation-delay: var(--delay);
      }

      @keyframes float {
        0% { bottom: -20px; opacity: 0; transform: translateX(0); }
        20% { opacity: 0.6; }
        100% { bottom: 110%; opacity: 0; transform: translateX(var(--sway)); }
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        position: relative;
        z-index: 2;
      }

      h1, h2, h3 { margin: 0; font-weight: normal; }

      .font-serif { font-family: var(--font-serif); }
      .font-mono { font-family: var(--font-mono); }

      /* Glass Panel */
      .glass-panel {
        background: var(--glass-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border: 1px solid var(--glass-border);
        border-radius: 24px;
        padding: 3rem;
        box-shadow: var(--glass-shadow);
        transition: transform 0.6s var(--ease-out), border-color 0.4s ease;
        position: relative;
        overflow: hidden;

        &::before {
          content: '';
          position: absolute;
          top: 0; left: 0; right: 0; bottom: 0;
          background: linear-gradient(135deg, var(--glass-highlight) 0%, transparent 40%);
          pointer-events: none;
        }

        &:hover {
          transform: translateY(-5px);
          border-color: rgba(255, 255, 255, 0.2);
        }
      }

      .tag {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-family: var(--font-mono);
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        padding: 0.5rem 1rem;
        border: 1px solid var(--glass-border);
        background: rgba(255, 255, 255, 0.03);
        border-radius: 100px;
        backdrop-filter: blur(4px);
        margin-bottom: 1.5rem;
        color: var(--ae-accent);
      }

      /* Hero */
      .hero {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding-top: 4rem;
        position: relative;
        z-index: 2;

        h1 {
          font-family: var(--font-serif);
          font-size: clamp(4rem, 15vw, 10rem);
          line-height: 0.9;
          letter-spacing: -0.02em;
          margin-bottom: 2rem;
          color: #fff;
          text-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
          animation: fadeUp 1.2s var(--ease-out) forwards;
          opacity: 0;
        }

        p {
          font-size: clamp(1.1rem, 2vw, 1.4rem);
          max-width: 650px;
          color: var(--ae-text-muted);
          line-height: 1.5;
          margin-bottom: 3rem;
          animation: fadeUp 1.2s var(--ease-out) 0.2s forwards;
          opacity: 0;
        }
      }

      .scroll-indicator {
        position: absolute;
        bottom: 3rem;
        left: 50%;
        transform: translateX(-50%);
        font-family: var(--font-mono);
        font-size: 0.75rem;
        opacity: 0.5;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%, 100% { transform: translate(-50%, 0); }
        50% { transform: translate(-50%, 10px); }
      }

      @keyframes fadeUp {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
      }

      /* Sections */
      .section-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 6rem;
        align-items: center;
        margin: 10rem 0;

        &.reversed {
          direction: rtl;
          .section-content, .glass-panel { direction: ltr; }
        }

        @media (max-width: 900px) {
          grid-template-columns: 1fr;
          gap: 3rem;
          margin: 6rem 0;
          &.reversed { direction: ltr; }
        }
      }

      .section-content {
        h2 {
          font-family: var(--font-serif);
          font-size: 3.5rem;
          margin-bottom: 2rem;
          line-height: 1.05;
        }
        p {
          font-size: 1.15rem;
          line-height: 1.6;
          color: var(--ae-text-muted);
          margin-bottom: 2rem;
        }
      }

      /* Tech Pills */
      .tech-stack {
        display: flex;
        flex-wrap: wrap;
        gap: 0.8rem;

        span {
          font-family: var(--font-mono);
          font-size: 0.9rem;
          padding: 0.6rem 1.2rem;
          border: 1px solid rgba(244, 12, 63, 0.25);
          background: var(--ae-accent-dim);
          color: var(--ae-accent);
          border-radius: 50px;
          transition: 0.3s;

          &:hover {
            background: var(--ae-accent);
            color: #fff;
            cursor: default;
          }
        }
      }

      /* Plugins Grid */
      .plugins-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin-top: 4rem;
      }

      .plugin-card {
        padding: 2.5rem;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: 16px;
        transition: 0.4s var(--ease-out);

        &:hover {
          background: rgba(255, 255, 255, 0.06);
          transform: translateY(-5px);
          border-color: var(--ae-accent);
        }

        h3 {
          font-family: var(--font-serif);
          font-size: 1.8rem;
          margin-bottom: 1rem;
          color: #fff;
        }

        .badge {
          display: inline-block;
          font-size: 0.7rem;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          padding: 0.3rem 0.6rem;
          border-radius: 4px;
          margin-bottom: 0.75rem;

          &.essential { background: rgba(244, 12, 63, 0.2); color: var(--ae-accent); }
          &.creative { background: rgba(155, 89, 182, 0.2); color: var(--ae-purple); }
        }

        .plugin-category {
          font-family: var(--font-mono);
          font-size: 0.75rem;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          opacity: 0.5;
          margin-bottom: 1rem;
        }
      }

      /* Workflow Steps */
      .flow-steps {
        counter-reset: flow;
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .flow-steps li {
        counter-increment: flow;
        position: relative;
        padding: 1.5rem 0 1.5rem 4rem;
        border-left: 1px solid var(--glass-border);
        margin-left: 1rem;

        &::before {
          content: counter(flow);
          position: absolute;
          left: -1.25rem;
          top: 1.5rem;
          width: 2.5rem;
          height: 2.5rem;
          background: var(--ae-accent);
          color: #fff;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 1rem;
          font-family: var(--font-mono);
        }

        &:last-child { border-left: none; }

        strong {
          color: #fff;
          display: block;
          font-size: 1.1rem;
          margin-bottom: 0.25rem;
        }

        span {
          font-size: 0.95rem;
          color: var(--ae-text-muted);
          line-height: 1.5;
        }
      }

      /* Video Section */
      .video-showcase {
        margin: 10rem 0 5rem;
        text-align: center;
      }

      .video-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
      }

      .video-card {
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid var(--glass-border);
        background: var(--glass-bg);
        aspect-ratio: 16/9;
        transition: 0.4s var(--ease-out);

        &:hover {
          border-color: var(--ae-accent);
          transform: translateY(-5px);
        }

        iframe {
          width: 100%;
          height: 100%;
          border: none;
          display: block;
        }
      }

      /* Stats */
      .stats-container {
        display: flex;
        justify-content: space-around;
        gap: 2rem;
        margin-top: 3rem;
        flex-wrap: wrap;

        div { text-align: center; }

        h3 {
          font-family: var(--font-serif);
          font-size: 5rem;
          background: linear-gradient(180deg, #fff 0%, rgba(255, 255, 255, 0.5) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          margin-bottom: 0.5rem;
        }
        span {
          font-family: var(--font-mono);
          text-transform: uppercase;
          letter-spacing: 0.1em;
          color: var(--ae-accent);
          font-size: 0.9rem;
        }
      }

      /* CTA */
      .cta-wrapper {
        text-align: center;
        padding: 5rem 0;

        a {
          display: inline-block;
          font-family: var(--font-serif);
          font-size: 2rem;
          color: #fff;
          text-decoration: none;
          padding-bottom: 0.5rem;
          border-bottom: 1px solid rgba(255, 255, 255, 0.3);
          transition: 0.3s;

          &:hover {
            border-color: var(--ae-accent);
            color: var(--ae-accent);
            transform: scale(1.05);
          }
        }
      }

      /* Site Structure */
      .site-wrapper {
        position: relative;
        z-index: 2;
        background: map.get($theme-colors, 'default', 'primary');
        background-color: #000;
        min-height: 100vh;
      }

      .site-intro {
        position: fixed;
        top: 0; left: 0; z-index: 50;
        width: 100%; height: 100%;
        background: #f40c3f;
        .sb-logo {
          position: absolute;
          top: 50%; left: 50%;
          width: 16rem; height: 16rem;
          transform: translate3d(-50%, -50%, 0);
        }
        &__border {
          position: absolute;
          background: #000;
          &--top { top: 0; left: 0; width: 100%; height: 1rem; transform-origin: 50% 0; }
          &--left { top: 0; left: 0; width: 1rem; height: 100%; transform-origin: 0 50%; }
          &--right { top: 0; right: 0; width: 1rem; height: 100%; transform-origin: 100% 50%; }
        }
      }

      .site-mount {
        position: absolute;
        top: 0; left: 0; z-index: 1;
        width: 100%; height: 100%;
        border: 1rem solid #000;
        opacity: 0;
        pointer-events: none;
      }

      .site-contrast-mask {
        position: fixed;
        top: 0; left: 0; z-index: 20;
        width: 100%; height: 100%;
        background: #f40c3f;
        border-right: 1rem solid #000;
        mix-blend-mode: darken;
        transform: translate3d(-100%, 0, 0);
        pointer-events: none;
      }
    </style>
  </head>

  <body>
    <div class="site-wrapper js-site-wrapper" style="opacity: 0;">
      <SiteHead />

      <main class="ae-page">
        <div class="ambient-light"></div>
        <div class="particles">
          {
            [...Array(20)].map(() => (
              <div
                class="particle"
                style={{
                  left: `${Math.random() * 100}%`,
                  '--duration': `${12 + Math.random() * 18}s`,
                  '--delay': `${Math.random() * 10}s`,
                  '--sway': `${-30 + Math.random() * 60}px`,
                }}
              />
            ))
          }
        </div>

        <section class="hero">
          <div class="tag">Motion Design - VFX - Post-Production</div>
          <h1>
            After<br /><span style="color: var(--ae-accent);">Effects</span>
          </h1>
          <p>
            Mon processus creatif et les outils que j'utilise pour creer du
            motion design, des effets visuels et de l'animation. De la
            preproduction a l'export final.
          </p>
          <div class="scroll-indicator">SCROLL TO EXPLORE</div>
        </section>

        <div class="container">
          <!-- Section: Overview -->
          <div class="section-row">
            <div class="section-content">
              <div class="tag">Le Logiciel</div>
              <h2>Adobe After Effects</h2>
              <p>
                <strong>After Effects</strong> est mon outil principal pour creer
                du motion design, des animations et des effets visuels. C'est un logiciel
                de composition et d'animation qui permet de combiner des elements
                2D et 3D, d'ajouter des effets visuels complexes et de creer des animations
                sophistiquees.
              </p>
              <p>
                J'utilise After Effects pour tous mes projets de motion design,
                que ce soit pour creer des generiques, des transitions, des
                effets de texte animes, ou des compositions visuelles complexes.
                Le logiciel offre une flexibilite creative inegalee grace a son
                systeme de calques, ses expressions JavaScript et sa vaste
                bibliotheque d'effets.
              </p>
            </div>
            <div class="glass-panel">
              <h3 class="font-serif" style="font-size: 2rem; margin-bottom: 1.5rem;">
                Technologies & Formats
              </h3>
              <div class="tech-stack">
                <span>After Effects CC 2024</span>
                <span>Adobe Photoshop</span>
                <span>Adobe Illustrator</span>
                <span>Media Encoder</span>
                <span>Cinema 4D Lite</span>
              </div>
              <div style="margin-top: 2rem; font-size: 1.1rem; line-height: 1.8;">
                <span style="display:block; margin-bottom:0.5rem;">
                  <strong style="color: var(--ae-accent);">Principal:</strong> After Effects CC 2024
                </span>
                <span style="display:block; margin-bottom:0.5rem;">
                  <strong style="color: var(--ae-accent);">Assets:</strong> Photoshop + Illustrator
                </span>
                <span style="display:block; margin-bottom:0.5rem;">
                  <strong style="color: var(--ae-accent);">3D:</strong> Cinema 4D Lite
                </span>
                <span style="display:block;">
                  <strong style="color: var(--ae-accent);">Export:</strong> Media Encoder (H.264, ProRes)
                </span>
              </div>
            </div>
          </div>

          <!-- Section: Plugins -->
          <div style="margin: 10rem 0;">
            <div style="text-align: center; margin-bottom: 4rem;">
              <div class="tag">Extensions Professionnelles</div>
              <h2 class="font-serif" style="font-size: 3.5rem;">
                Plugins Essentiels
              </h2>
              <p style="max-width: 600px; margin: 1rem auto; color: var(--ae-text-muted); font-size: 1.1rem;">
                Ces plugins etendent considerablement les capacites d'After
                Effects et accelerent mon workflow creatif.
              </p>
            </div>

            <div class="plugins-grid">
              <div class="plugin-card">
                <span class="badge essential">Essential</span>
                <h3>Element 3D</h3>
                <div class="plugin-category">Video Copilot</div>
                <p style="margin-top: 1rem; opacity: 0.8; line-height: 1.6;">
                  Plugin 3D ultra-performant qui permet d'importer et d'animer
                  des modeles 3D directement dans After Effects. Utilise pour
                  creer des titres 3D, des logos animes et des environnements
                  complexes avec un rendu rapide.
                </p>
              </div>

              <div class="plugin-card">
                <span class="badge essential">Essential</span>
                <h3>Optical Flares</h3>
                <div class="plugin-category">Video Copilot</div>
                <p style="margin-top: 1rem; opacity: 0.8; line-height: 1.6;">
                  Genere des lens flares photorealistes et des effets de
                  lumiere. Parfait pour ajouter du dynamisme et de l'energie aux
                  compositions, avec controle total sur la forme, les couleurs
                  et l'intensite des flares.
                </p>
              </div>

              <div class="plugin-card">
                <span class="badge creative">Creative</span>
                <h3>Trapcode Suite</h3>
                <div class="plugin-category">Red Giant</div>
                <p style="margin-top: 1rem; opacity: 0.8; line-height: 1.6;">
                  Suite complete pour creer des effets de particules
                  (Particular), des formes geometriques organiques (Form), et
                  des textures procedurales (Mir). Essentiel pour les effets
                  visuels abstraits et les backgrounds animes.
                </p>
              </div>

              <div class="plugin-card">
                <span class="badge creative">Creative</span>
                <h3>Plexus</h3>
                <div class="plugin-category">Rowbyte</div>
                <p style="margin-top: 1rem; opacity: 0.8; line-height: 1.6;">
                  Cree des reseaux de points et de lignes interconnectes en 3D.
                  Ideal pour generer des visualisations de donnees, des
                  backgrounds technologiques et des effets de connexion entre
                  elements.
                </p>
              </div>

              <div class="plugin-card">
                <span class="badge essential">Essential</span>
                <h3>Saber</h3>
                <div class="plugin-category">Video Copilot - Gratuit</div>
                <p style="margin-top: 1rem; opacity: 0.8; line-height: 1.6;">
                  Plugin gratuit pour creer des effets de lumiere neon, des
                  faisceaux laser et des lueurs energetiques. Tres utilise pour
                  les effets sci-fi et les transitions dynamiques avec controle
                  precis des courbes.
                </p>
              </div>

              <div class="plugin-card">
                <span class="badge creative">Creative</span>
                <h3>Twixtor</h3>
                <div class="plugin-category">RE:Vision Effects</div>
                <p style="margin-top: 1rem; opacity: 0.8; line-height: 1.6;">
                  Ralentissement et acceleration de videos avec interpolation
                  avancee. Permet de creer des slow-motion fluides meme a partir
                  de footage a 24fps, en generant des frames intermediaires de
                  haute qualite.
                </p>
              </div>
            </div>
          </div>

          <!-- Section: Workflow -->
          <div class="section-row reversed">
            <div class="section-content">
              <div class="tag">Processus Creatif</div>
              <h2>Mon Workflow</h2>
              <ol class="flow-steps">
                <li>
                  <strong>Concept & Storyboard</strong>
                  <span>Definition de l'idee creative, creation d'un moodboard et esquisse
                  du storyboard pour visualiser les differentes sequences et transitions.</span>
                </li>
                <li>
                  <strong>Preparation Assets</strong>
                  <span>Creation ou collecte des elements visuels : graphiques vectoriels
                  (Illustrator), textures (Photoshop), modeles 3D (Cinema 4D), footages
                  video et audio.</span>
                </li>
                <li>
                  <strong>Composition & Animation</strong>
                  <span>Import des assets dans After Effects, mise en place de la composition
                  principale, animation des calques avec keyframes et expressions,
                  ajout de cameras 3D.</span>
                </li>
                <li>
                  <strong>Effets & Post-Production</strong>
                  <span>Application des plugins (Element 3D, Trapcode, Plexus), ajustements
                  de couleurs (color grading), ajout de particules, lens flares et
                  effets de lumiere.</span>
                </li>
                <li>
                  <strong>Sound Design & Export</strong>
                  <span>Synchronisation avec la musique et sound effects, optimisation du
                  rendu, export final via Media Encoder (H.264, ProRes) selon la destination.</span>
                </li>
              </ol>
            </div>
            <div class="glass-panel">
              <h3 class="font-serif" style="font-size: 2rem; margin-bottom: 1.5rem;">
                Techniques Favorites
              </h3>
              <div style="font-size: 1.05rem; line-height: 1.8;">
                <p style="opacity: 0.9; margin-bottom: 1.5rem;">
                  <strong style="color: var(--ae-accent);">Expressions JavaScript</strong><br />
                  Utilisation d'expressions pour automatiser les animations et creer
                  des mouvements proceduraux (wiggle, loop, time remapping).
                </p>
                <p style="opacity: 0.9; margin-bottom: 1.5rem;">
                  <strong style="color: var(--ae-accent);">Cameras & 3D Layers</strong><br />
                  Creation de profondeur avec des cameras virtuelles et organisation
                  des calques en espace 3D pour des compositions immersives.
                </p>
                <p style="opacity: 0.9; margin-bottom: 1.5rem;">
                  <strong style="color: var(--ae-accent);">Shape Layers & Motion Graphics</strong><br />
                  Conception de graphiques animes avec les shape layers, trim paths
                  et gradients pour des animations fluides et vectorielles.
                </p>
                <p style="opacity: 0.9; margin-bottom: 1.5rem;">
                  <strong style="color: var(--ae-accent);">Color Grading</strong><br />
                  Ajustements de couleurs avec Lumetri Color, Curves et Color Balance
                  pour creer des ambiances specifiques et une coherence visuelle.
                </p>
                <p style="opacity: 0.9;">
                  <strong style="color: var(--ae-accent);">Motion Blur & Frame Blending</strong><br />
                  Application de motion blur et frame blending pour des animations plus
                  naturelles et cinematiques.
                </p>
              </div>
            </div>
          </div>

          <!-- VIDEO SECTION -->
          <div class="video-showcase">
            <div class="tag">Mes Edits VFX</div>
            <h2 class="font-serif" style="font-size: 3.5rem; color: #fff;">
              Galerie Video
            </h2>
            <p style="max-width: 600px; margin: 1rem auto; color: var(--ae-text-muted); font-size: 1.1rem;">
              Quelques-unes de mes creations en motion design et effets visuels.
            </p>
            <div class="video-grid">
              <div class="video-card">
                <iframe
                  src="https://www.youtube.com/embed/Q_S17sojDvc?autoplay=0&rel=0&modestbranding=1"
                  title="Edit VFX 1"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen
                ></iframe>
              </div>
              <div class="video-card">
                <iframe
                  src="https://www.youtube.com/embed/CLxq07EHI-o?autoplay=0&rel=0&modestbranding=1"
                  title="Edit VFX 2"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen
                ></iframe>
              </div>
              <div class="video-card">
                <iframe
                  src="https://www.youtube.com/embed/-diwAEusMBA?autoplay=0&rel=0&modestbranding=1"
                  title="Edit VFX 3"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen
                ></iframe>
              </div>
            </div>
          </div>

          <!-- Stats -->
          <div class="glass-panel" style="text-align: center; padding: 4rem 2rem;">
            <h2 class="font-serif" style="font-size: 2.5rem; margin-bottom: 2rem;">
              Mon Setup Creatif
            </h2>
            <div class="stats-container">
              <div>
                <h3>6</h3>
                <span>Plugins Pro</span>
              </div>
              <div>
                <h3>5</h3>
                <span>Etapes Workflow</span>
              </div>
              <div>
                <h3>3</h3>
                <span>Logiciels Adobe</span>
              </div>
              <div>
                <h3>4K</h3>
                <span>Resolution Export</span>
              </div>
            </div>
            <div style="margin-top: 3rem; font-family: var(--font-mono); font-size: 0.9rem; opacity: 0.7; line-height: 1.8;">
              <p><strong style="color: var(--ae-accent);">Principal:</strong> After Effects CC 2024 + Cinema 4D Lite</p>
              <p><strong style="color: var(--ae-accent);">Plugins:</strong> Element 3D, Optical Flares, Trapcode, Plexus, Saber, Twixtor</p>
              <p><strong style="color: var(--ae-accent);">Assets:</strong> Photoshop + Illustrator + Media Encoder</p>
              <p><strong style="color: var(--ae-accent);">Techniques:</strong> Expressions JS, 3D Layers, Shape Layers, Color Grading</p>
            </div>
          </div>

          <div class="cta-wrapper">
            <a href="/portfolio_bpa/">← Retour au Portfolio</a>
          </div>
        </div>
      </main>

      <SiteFoot />
    </div>

    <!-- Intro Overlays -->
    <div
      class="site-intro js-intro"
      style="opacity: 1; position: fixed; top: 0; left: 0; z-index: 50; width: 100%; height: 100%; background: #F40C3F;"
    >
      <div class="sb-logo js-logo">
        <img
          src={logo.src}
          alt="Paul Blanc"
          class="js-intro-logo"
          style="width: 100%; height: 100%; object-fit: contain;"
        />
      </div>
      <div class="site-intro__border site-intro__border--top js-border-top"></div>
      <div class="site-intro__border site-intro__border--left js-border-left"></div>
      <div class="site-intro__border site-intro__border--right js-border-right"></div>
    </div>
    <div class="site-mount js-mount"></div>
    <div class="site-contrast-mask js-contrast-mask"></div>
    <SiteScrollbar />
  </body>

  <script>
    import Emitter from '../utils/Emitter'
    import Ticker from '../utils/Ticker'
    import Lenis from 'lenis'
    import { gsap } from 'gsap'
    import { ScrollTrigger } from 'gsap/ScrollTrigger'
    gsap.registerPlugin(ScrollTrigger)

    declare global {
      interface Window {
        safeWidth: number
        safeHeight: number
        maxScrollTop: number
        scrollProgress: number
        lenis: any
      }
    }

    class Site {
      timeouts: any = { resizeThrottle: null }
      windowWidth: number
      windowHeight: number
      clientWidth: number
      clientHeight: number
      isScrolling: boolean = false
      lenis: any

      constructor() {
        let os = 'unknown'
        if (navigator.userAgent.indexOf('Win') !== -1) os = 'windows'
        else if (navigator.userAgent.indexOf('Android') !== -1) os = 'android'
        else if (navigator.userAgent.indexOf('Mac') !== -1) os = 'mac'
        else if (navigator.userAgent.indexOf('Linux') !== -1) os = 'linux'
        document.documentElement.classList.add(`is-${os}`)

        let browser = 'unknown'
        if (navigator.userAgent.indexOf('Firefox') !== -1) browser = 'firefox'
        else if (navigator.userAgent.indexOf('Chrome') !== -1) browser = 'chrome'
        else if (navigator.userAgent.indexOf('Safari') !== -1) browser = 'safari'
        document.documentElement.classList.add(`is-${browser}`)

        this.bindEvents()
      }

      init() {
        this.initLenis()
        Ticker.init()
        this.onResize()
        Ticker.nextTick(this.intro, this)
      }

      bindEvents() {
        window.addEventListener('resize', this.resizeThrottle.bind(this))
        window.addEventListener('scroll', this.onScroll.bind(this), { passive: true })
        window.addEventListener('mousemove', this.onMouseMove.bind(this), { passive: true })
        Emitter.on('updateViewport', this.onResize, this, true)

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              entry.target.dispatchEvent(
                new CustomEvent('intersect', { detail: { isIntersecting: entry.isIntersecting } }),
              )
              if (entry.isIntersecting) {
                entry.target.classList.add('is-in-view')
                entry.target.classList.remove('is-out-of-view', 'is-out-of-view-top', 'is-out-of-view-bottom')
              } else {
                entry.target.classList.remove('is-in-view')
                entry.target.classList.add('is-out-of-view')
              }
            })
          },
          { threshold: 0 },
        )

        document.querySelectorAll('[data-intersect]').forEach((el) => observer.observe(el))

        if (document.readyState === 'complete') this.siteLoaded()
        else window.addEventListener('load', this.siteLoaded, { once: true })
        this.onScroll()
      }

      initLenis() {
        const lenis = new Lenis()
        lenis.on('scroll', ScrollTrigger.update)
        gsap.ticker.add((time) => lenis.raf(time * 1000))
        gsap.ticker.lagSmoothing(0)
        window.lenis = lenis
        this.lenis = lenis
      }

      siteLoaded() {
        document.documentElement.classList.add('is-loaded')
        Emitter.emit('siteLoaded')
      }

      resizeThrottle() {
        clearTimeout(this.timeouts.resizeThrottle)
        this.timeouts.resizeThrottle = setTimeout(() => Ticker.nextTick(this.onResize, this), 200)
      }

      onResize() {
        const newWidth = window.innerWidth
        let widthChanged = false
        if (this.windowWidth !== newWidth) {
          if (this.windowWidth !== undefined) widthChanged = true
          this.windowWidth = newWidth
          this.clientWidth = document.body.clientWidth
        }
        const newHeight = window.innerHeight
        let heightChanged = false
        if (this.windowHeight !== newHeight) {
          if (this.windowHeight !== undefined) heightChanged = true
          this.windowHeight = newHeight
          this.clientHeight = document.body.clientHeight
        }
        window.safeWidth = newWidth
        window.safeHeight = newHeight
        window.maxScrollTop = document.body.scrollHeight - window.safeHeight
        this.setScrollProgress()
        Emitter.emit('resize', widthChanged, heightChanged)
      }

      onScroll() {
        this.setScrollProgress()
        Ticker.nextTick(() => Emitter.emit('scroll', window.scrollY))
      }

      setScrollProgress() {
        window.scrollProgress = window.scrollY / window.maxScrollTop
      }

      onMouseMove(e) {
        Emitter.emit('mousemove', e.clientX, e.clientY)
      }

      intro() {
        const wrapper = document.querySelector('.js-site-wrapper') as HTMLElement
        const intro = document.querySelector('.js-intro') as HTMLElement
        const mount = document.querySelector('.js-mount') as HTMLElement
        const introLogo = intro.querySelector('.js-intro-logo') as HTMLElement
        const borderTop = intro.querySelector('.js-border-top') as HTMLElement
        const borderLeft = intro.querySelector('.js-border-left') as HTMLElement
        const borderRight = intro.querySelector('.js-border-right') as HTMLElement

        const tl = gsap.timeline()
        tl.set(wrapper, { opacity: '' })
        tl.set(intro, { background: 'transparent' })
        tl.fromTo(introLogo, { scale: 0.8, opacity: 0 }, { scale: 1, opacity: 1, duration: 1.5, ease: 'expo.out' }, 0)
        tl.to(introLogo, { opacity: 0, scale: 1.1, duration: 0.8, ease: 'power2.in' }, 2.5)
        tl.from(borderTop, { scaleY: 0, duration: 3, ease: 'power3.inOut' }, 1)
        tl.from([borderLeft, borderRight], { scaleX: 0, duration: 3, ease: 'power3.inOut' }, 1)
        tl.call(() => document.dispatchEvent(new CustomEvent('intro')), null, '-=1.85')
        tl.call(
          () => {
            if (mount) mount.style.opacity = '1'
            if (intro) intro.remove()
            document.documentElement.classList.remove('is-scroll-blocked')
            Ticker.nextTick(() => Emitter.emit('updateViewport'))
          },
          null,
          5,
        )
      }
    }

    const site = new Site()
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => site.init(), { once: true })
    } else {
      site.init()
    }
  </script>
</html>
