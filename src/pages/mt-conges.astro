---
import '../styles/global.scss'

const bgImage = `url('${import.meta.env.BASE_URL}images/aquarium-bg.png')`
---

<html lang="fr" class="theme-contrasted">
  <head>
    <meta charset="utf-8" />
    <title>MT-CONG√âS | Paul Blanc</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="/icons/favicon-48x48.png" />
    <link
      rel="preload"
      href="/fonts/PPEditorialNew-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/PPFraktionMono-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <style lang="scss" define:vars={{ bgImage }}>
      @font-face {
        font-family: 'Editorial New';
        src: url('/fonts/PPEditorialNew-Regular.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'PP Fraktion Mono';
        src: url('/fonts/PPFraktionMono-Regular.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }

      :root {
        --color-bg: #001f3f; /* Deep blue fallback */
        --color-text: #e0f7fa; /* Light cyan text */
        --color-text-muted: #b2ebf2; /* Muted cyan */
        --font-serif: 'Editorial New', serif;
        --font-mono: 'PP Fraktion Mono', monospace;
        --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
        --glass-bg: rgba(255, 255, 255, 0.03);
        --glass-border: rgba(255, 255, 255, 0.1);
        --glass-shine: rgba(255, 255, 255, 0.05);
        --glass-blur: blur(12px);
      }

      /* Global resets and body style */
      :global(body) {
        margin: 0;
        background-color: var(--color-bg);
        color: var(--color-text);
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        min-height: 100vh;

        /* The Aquarium Background */
        background-image: var(--bgImage);
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
      }

      /* Bubbles Animation */
      .bubbles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0; /* Changed from -1 to 0 to sit on top of background but behind content */
        pointer-events: none;
        overflow: hidden;
      }

      .bubble {
        position: absolute;
        bottom: -20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: rise 15s infinite ease-in;
        box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(1px);
      }

      @keyframes rise {
        0% {
          bottom: -20px;
          transform: translateX(0);
          opacity: 0;
        }
        20% {
          opacity: 0.5;
        }
        50% {
          transform: translateX(20px);
        }
        80% {
          opacity: 0.2;
        }
        100% {
          bottom: 110%;
          transform: translateX(-20px);
          opacity: 0;
        }
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
        position: relative;
        z-index: 1; /* Ensure content is above bubbles */
      }

      /* Common Glass Card Style */
      .glass-card {
        background: var(--glass-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        transition:
          transform 0.4s var(--ease-out),
          background 0.4s ease;

        &:hover {
          background: var(--glass-shine);
          transform: translateY(-5px);
          border-color: rgba(255, 255, 255, 0.2);
        }
      }

      /* Navigation */
      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 2rem 3rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;
        transition: padding 0.3s ease;

        /* Slight gradient to make nav readable */
        background: linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0.4) 0%,
          transparent 100%
        );

        a {
          color: white;
          text-decoration: none;
          font-family: var(--font-mono);
          text-transform: uppercase;
          font-size: 0.85rem;
          letter-spacing: 0.05em;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);

          &:hover {
            opacity: 0.8;
          }
        }
      }

      /* Hero Section */
      .hero {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding-top: 0; /* Centered */
        position: relative;
        z-index: 1;

        &__tags {
          display: flex;
          gap: 1rem;
          margin-bottom: 2rem;
          opacity: 0;
          animation: fadeUp 1.2s var(--ease-out) forwards;
        }

        &__tag {
          font-family: var(--font-mono);
          font-size: 0.8rem;
          padding: 0.4rem 1rem;
          border: 1px solid rgba(255, 255, 255, 0.3);
          background: rgba(255, 255, 255, 0.05);
          backdrop-filter: blur(4px);
          border-radius: 50px;
          text-transform: uppercase;
          color: #fff;
        }

        h1 {
          font-family: var(--font-serif);
          font-size: clamp(4rem, 15vw, 11rem);
          line-height: 0.9;
          letter-spacing: -0.03em;
          margin-bottom: 2rem;
          opacity: 0;
          color: #fff;
          text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); /* Deep water feeling */
          animation: fadeUp 1.2s var(--ease-out) 0.1s forwards;

          span {
            display: block;
            background: linear-gradient(180deg, #fff 20%, #8be9fd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
          }
        }

        &__lead {
          font-size: clamp(1.1rem, 2vw, 1.5rem);
          max-width: 600px;
          color: var(--color-text-muted);
          line-height: 1.4;
          opacity: 0;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
          animation: fadeUp 1s var(--ease-out) 0.3s forwards;
        }
      }

      /* Sections General */
      .section {
        padding: 8rem 0;
        position: relative;
        z-index: 1;
      }

      .section-header {
        margin-bottom: 4rem;

        h2 {
          font-family: var(--font-serif);
          font-size: clamp(2.5rem, 5vw, 4rem);
          margin-bottom: 1.5rem;
          color: #fff;
        }
      }

      .subtitle-tag {
        display: inline-block;
        font-family: var(--font-mono);
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: 1rem;
        padding: 0.5rem 1rem;
        border: 1px solid var(--glass-border);
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(4px);
        color: #fff;
        border-radius: 4px;
      }

      /* Showcase Image */
      .showcase-wrapper {
        margin-bottom: 8rem;
        position: relative;
        border-radius: 20px;
        padding: 10px;
        background: rgba(255, 255, 255, 0.05); /* Outer glow ring */
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(2px);
      }

      .showcase-img {
        width: 100%;
        border-radius: 16px;
        display: block;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
      }

      /* Context Section */
      .context-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;

        @media (max-width: 900px) {
          grid-template-columns: 1fr;
        }

        &__text {
          p {
            font-size: 1.25rem;
            line-height: 1.6;
            color: var(--color-text-muted);
            margin-bottom: 2rem;
          }
        }
      }

      /* Tech Stack */
      .tech-list {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;

        span {
          font-family: var(--font-mono);
          font-size: 0.9rem;
          padding: 0.6rem 1.2rem;
          background: rgba(255, 255, 255, 0.1);
          color: #fff;
          border-radius: 100px;
          border: 1px solid rgba(255, 255, 255, 0.2);
          backdrop-filter: blur(4px);
          transition: all 0.3s ease;

          &:hover {
            background: #fff;
            color: #001f3f;
            transform: scale(1.05);
          }
        }
      }

      /* Features Grid */
      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;

        .card {
          /* Inherits glass-card */
          @extend .glass-card;

          h3 {
            font-family: var(--font-serif);
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: #fff;
          }

          p {
            font-size: 1rem;
            color: var(--color-text-muted);
            line-height: 1.5;
          }
        }
      }

      /* Challenges */
      .challenge-row {
        display: grid;
        grid-template-columns: 0.8fr 1.2fr;
        gap: 2rem;
        padding: 3rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);

        &:last-child {
          border-bottom: none;
        }

        @media (max-width: 768px) {
          grid-template-columns: 1fr;
        }

        h3 {
          font-family: var(--font-mono);
          font-size: 1.2rem;
          color: #8be9fd; /* Cyan accent */
          text-transform: uppercase;
        }

        .solution-block {
          h4 {
            font-family: var(--font-serif);
            font-size: 2rem;
            margin-bottom: 0.5rem;
          }
          p {
            margin-top: 0;
            line-height: 1.6;
            opacity: 0.9;
            color: #e0f7fa;
          }
          .badge-problem {
            color: #ff80ab;
            font-weight: bold;
            font-size: 0.9em;
            margin-right: 1rem;
          }
          .badge-solution {
            color: #69f0ae;
            font-weight: bold;
            font-size: 0.9em;
          }
        }
      }

      /* Results */
      .results-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
        text-align: center;

        @media (max-width: 768px) {
          grid-template-columns: 1fr;
        }

        .stat-item {
          padding: 2rem;
          background: rgba(255, 255, 255, 0.02);
          border-radius: 20px;
          border: 1px solid rgba(255, 255, 255, 0.05);

          h3 {
            font-size: 4rem;
            font-family: var(--font-serif);
            margin-bottom: 0.5rem;
            background: linear-gradient(180deg, #fff 20%, #8be9fd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
          }
          span {
            font-family: var(--font-mono);
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.1em;
            color: var(--color-text-muted);
          }
        }
      }

      /* CTA */
      .cta-section {
        text-align: center;
        padding: 10rem 0;

        a {
          display: inline-block;
          background: #fff;
          color: #001f3f;
          padding: 1.5rem 4rem;
          border-radius: 100px;
          font-family: var(--font-serif);
          font-size: 1.5rem;
          text-decoration: none;
          transition: all 0.3s ease;
          box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);

          &:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.6);
            background: #e0f7fa;
          }
        }
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(40px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body>
    <!-- Bubbles need to be high enough not to get hidden by bg color if strange stacking matches, using z-index:0 relative to body which should work -->
    <div class="bubbles">
      {/* Generating bubbles */}
      {
        [...Array(20)].map((_, i) => (
          <div
            class="bubble"
            style={`
              left: ${Math.random() * 100}%;
              width: ${10 + Math.random() * 60}px;
              height: ${10 + Math.random() * 60}px;
              animation-delay: ${Math.random() * 15}s;
              animation-duration: ${10 + Math.random() * 10}s;
             `}
          />
        ))
      }
    </div>

    <header>
      <a href="/portfolio_bpa/">Paul Blanc ¬©24</a>
      <a href="https://github.com/Polochon06/mt-conges" target="_blank">
        GitHub ‚Üó
      </a>
    </header>

    <main>
      <section class="hero">
        <div class="hero__tags">
          <span class="hero__tag">Projet Scolaire</span>
          <span class="hero__tag">3 Mois</span>
          <span class="hero__tag">Java Swing</span>
        </div>
        <h1>
          <span>MT-Cong√©s</span>
        </h1>
        <p class="hero__lead">
          Une architecture MVC stricte pour une gestion RH s√©curis√©e, moderne et
          efficace.
        </p>
      </section>

      <div class="container">
        <!-- Showcase Image -->
        <div class="showcase-wrapper">
          <img
            src="/portfolio_bpa/images/works/mt-conges-dashboard.png"
            alt="Dashboard MT Conges"
            class="showcase-img"
            style="min-height: 200px; background: rgba(0,0,0,0.2);"
          />
        </div>

        <!-- Section 1: Context & Problem -->
        <section class="section">
          <div class="context-grid">
            <div>
              <span class="subtitle-tag">Contexte et Probl√©matique</span>
              <h2 class="font-serif" style="font-size: 3rem; line-height: 1.1;">
                R√©inventer la gestion des temps en entreprise.
              </h2>
            </div>
            <div class="glass-card">
              <div class="context-grid__text">
                <p>
                  Dans une organisation hi√©rarchis√©e, comment g√©rer efficacement
                  les demandes de cong√©s tout en garantissant la s√©curit√©
                  absolue des donn√©es sensibles ?
                </p>
                <p>
                  MT-Cong√©s r√©pond √† ce d√©fi par une application robuste,
                  √©liminant les processus papier obsol√®tes au profit d'une
                  interface Swing fluide et d'une architecture con√ßue pour la
                  scalabilit√©.
                </p>
                <div class="tech-list" style="margin-top: 2rem;">
                  <span>Java 17</span>
                  <span>Swing</span>
                  <span>MySQL</span>
                  <span>MVC</span>
                  <span>DAO</span>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Section 2: Features (Bento) -->
      <section class="section">
        <div class="container">
          <div class="section-header" style="text-align: center;">
            <span class="subtitle-tag">Fonctionnalit√©s Cl√©s</span>
            <h2>Un Syst√®me Complet</h2>
          </div>

          <div class="features-grid">
            <div class="card">
              <h3>S√©curit√© Renforc√©e</h3>
              <p>
                Authentification s√©curis√©e avec verrouillage automatique apr√®s 3
                tentatives √©chou√©es et hachage BCrypt des mots de passe. Vos
                donn√©es sont un coffre-fort.
              </p>
            </div>
            <div class="card">
              <h3>Gestion des R√¥les</h3>
              <p>
                Une hi√©rarchie claire : Administrateurs pour la gestion
                utilisateurs, Responsables pour la validation d'√©quipe, et
                Employ√©s pour les demandes personnelles.
              </p>
            </div>
            <div class="card">
              <h3>Audit & Logging</h3>
              <p>
                Chaque action est trac√©e. Le syst√®me de logging int√©gr√© assure
                une transparence totale sur les mouvements et les validations au
                sein de l'application.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 3: Difficulties & Solutions -->
      <section class="section">
        <div class="container glass-card">
          <div class="section-header">
            <span class="subtitle-tag">Challenges Techniques</span>
            <h2>Difficult√©s & Solutions</h2>
          </div>

          <div class="challenge-row">
            <div>
              <h3>üîí S√©curit√© des Donn√©es</h3>
            </div>
            <div class="solution-block">
              <p>
                <span class="badge-problem">Probl√®me :</span> Risques d'injections
                SQL critiques pour les donn√©es RH.
              </p>
              <p>
                <span class="badge-solution">Solution :</span> Impl√©mentation stricte
                du pattern DAO avec PreparedStatements et validation rigoureuse des
                entr√©es utilisateurs.
              </p>
            </div>
          </div>

          <div class="challenge-row">
            <div>
              <h3>üèóÔ∏è Architecture</h3>
            </div>
            <div class="solution-block">
              <p>
                <span class="badge-problem">Probl√®me :</span> Maintenabilit√© difficile
                avec la complexit√© croissante.
              </p>
              <p>
                <span class="badge-solution">Solution :</span> Architecture MVC (Mod√®le-Vue-Contr√¥leur)
                stricte assurant une s√©paration nette des responsabilit√©s.
              </p>
            </div>
          </div>

          <div class="challenge-row">
            <div>
              <h3>‚öñÔ∏è Conformit√© RGPD</h3>
            </div>
            <div class="solution-block">
              <p>
                <span class="badge-problem">Probl√®me :</span> Gestion de donn√©es personnelles
                sensibles (sant√©, cong√©s).
              </p>
              <p>
                <span class="badge-solution">Solution :</span> Privacy by Design.
                Minirnisation des donn√©es et acc√®s restreints par r√¥les d√®s la conception.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4: Results -->
      <section class="section">
        <div class="container">
          <div class="section-header" style="text-align: center;">
            <span class="subtitle-tag">R√©sultats</span>
            <h2>Bilan du Projet</h2>
          </div>

          <div class="results-grid">
            <div class="stat-item">
              <h3>100%</h3>
              <span>Fonctionnel & S√©curis√©</span>
            </div>
            <div class="stat-item">
              <h3>MVC</h3>
              <span>Ma√Ætrise de l'Architecture</span>
            </div>
            <div class="stat-item">
              <h3>V1.0</h3>
              <span>Livr√© en 3 mois</span>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA -->
      <section class="cta-section">
        <div class="container">
          <h2
            class="font-serif"
            style="font-size: 3rem; margin-bottom: 2rem; color: #fff;"
          >
            Explorer le code
          </h2>
          <a href="https://github.com/Polochon06/mt-conges" target="_blank">
            Voir sur GitHub ‚Üó
          </a>
        </div>
      </section>
    </main>

    <footer
      style="text-align: center; padding: 2rem; opacity: 0.5; font-family: var(--font-mono); font-size: 0.8rem; color: #fff;"
    >
      DESIGNED & DEVELOPED BY PAUL BLANC
    </footer>
  </body>
</html>
