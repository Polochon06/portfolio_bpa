---
import '../styles/global.scss'

const bgImage = `url('${import.meta.env.BASE_URL}images/aquarium-bg.png')`
---

<html lang="fr" class="theme-contrasted">
  <head>
    <meta charset="utf-8" />
    <title>MT-CONG√âS | Architecture Java & S√©curit√©</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="/icons/favicon-48x48.png" />
    <link
      rel="preload"
      href="/fonts/PPEditorialNew-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/PPFraktionMono-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <style lang="scss" define:vars={{ bgImage }}>
      @import url('https://fonts.googleapis.com/css2?family=Italiana&display=swap');

      @font-face {
        font-family: 'Editorial New';
        src: url('/fonts/PPEditorialNew-Regular.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'PP Fraktion Mono';
        src: url('/fonts/PPFraktionMono-Regular.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }

      :root {
        --color-bg: #001220;
        --color-text: #e0f7fa;
        --color-text-muted: #b2ebf2;
        --color-accent: #64ffda;

        --font-serif: 'Italiana', serif;
        --font-mono: 'PP Fraktion Mono', monospace;

        --ease-out: cubic-bezier(0.16, 1, 0.3, 1);

        /* Ultra Premium Glass */
        --glass-bg: rgba(20, 30, 40, 0.4);
        --glass-border: rgba(255, 255, 255, 0.08);
        --glass-highlight: rgba(255, 255, 255, 0.03);
        --glass-blur: blur(20px);
        --glass-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
      }

      :global(body) {
        margin: 0;
        background-color: var(--color-bg);
        color: var(--color-text);
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        min-height: 100vh;

        background-image: var(--bgImage);
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
      }

      /* Animated Gradient Mesh (Optional subtle overlay) */
      .ambient-light {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
          radial-gradient(
            circle at 50% 0%,
            rgba(100, 255, 218, 0.05),
            transparent 60%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(0, 100, 255, 0.05),
            transparent 50%
          );
        pointer-events: none;
        z-index: 1;
      }

      /* Bubbles */
      .bubbles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
        overflow: hidden;
      }

      .bubble {
        position: absolute;
        bottom: -50px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.1),
          rgba(255, 255, 255, 0.02)
        );
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: rise var(--duration) infinite ease-in;
        backdrop-filter: blur(2px);
      }

      @keyframes rise {
        0% {
          bottom: -50px;
          transform: translateX(0) scale(1);
          opacity: 0;
        }
        20% {
          opacity: 0.6;
        }
        50% {
          transform: translateX(var(--sway)) scale(1.1);
        }
        100% {
          bottom: 110%;
          transform: translateX(calc(var(--sway) * -1)) scale(1.2);
          opacity: 0;
        }
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        position: relative;
        z-index: 2;
      }

      /* Typography */
      h1,
      h2,
      h3 {
        margin: 0;
        font-weight: normal;
      }

      .font-serif {
        font-family: var(--font-serif);
      }
      .font-mono {
        font-family: var(--font-mono);
      }

      /* Components */
      .glass-panel {
        background: var(--glass-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border: 1px solid var(--glass-border);
        border-radius: 24px;
        padding: 3rem;
        box-shadow: var(--glass-shadow);
        transition:
          transform 0.6s var(--ease-out),
          border-color 0.4s ease;
        position: relative;
        overflow: hidden;

        /* Inner subtle shine */
        &::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(
            135deg,
            var(--glass-highlight) 0%,
            transparent 40%
          );
          pointer-events: none;
        }

        &:hover {
          transform: translateY(-5px);
          border-color: rgba(255, 255, 255, 0.2);
        }
      }

      .tag {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-family: var(--font-mono);
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        padding: 0.5rem 1rem;
        border: 1px solid var(--glass-border);
        background: rgba(255, 255, 255, 0.03);
        border-radius: 100px;
        backdrop-filter: blur(4px);
        margin-bottom: 1.5rem;
        color: var(--color-accent);
      }

      /* Navigation */
      header {
        position: fixed;
        width: 100%;
        padding: 2rem 3rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;

        a {
          color: white;
          text-decoration: none;
          font-family: var(--font-mono);
          text-transform: uppercase;
          font-size: 0.85rem;
          opacity: 0.8;
          transition: opacity 0.3s;

          &:hover {
            opacity: 1;
          }
        }
      }

      /* Hero */
      .hero {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding-top: 4rem;
        position: relative;
        z-index: 2;

        h1 {
          font-family: var(--font-serif);
          font-size: clamp(4rem, 15vw, 10rem);
          line-height: 0.9;
          letter-spacing: -0.02em;
          margin-bottom: 2rem;
          color: #fff;

          text-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);

          animation: fadeUp 1.2s var(--ease-out) forwards;
          opacity: 0;
        }

        p {
          font-size: clamp(1.1rem, 2vw, 1.4rem);
          max-width: 600px;
          color: var(--color-text-muted);
          line-height: 1.5;
          margin-bottom: 3rem;
          animation: fadeUp 1.2s var(--ease-out) 0.2s forwards;
          opacity: 0;
        }
      }

      .scroll-indicator {
        position: absolute;
        bottom: 3rem;
        left: 50%;
        transform: translateX(-50%);
        font-family: var(--font-mono);
        font-size: 0.75rem;
        opacity: 0.5;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translate(-50%, 0);
        }
        50% {
          transform: translate(-50%, 10px);
        }
      }

      /* Alternating Sections */
      .section-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 6rem;
        align-items: center;
        margin: 10rem 0;

        &.reversed {
          direction: rtl; // Hack for visual reverse, reset in children
          .section-content {
            direction: ltr;
          }
          .glass-panel {
            direction: ltr;
          }
        }

        @media (max-width: 900px) {
          grid-template-columns: 1fr;
          gap: 3rem;
          margin: 6rem 0;
          &.reversed {
            direction: ltr;
          }
        }
      }

      .section-content {
        h2 {
          font-family: var(--font-serif);
          font-size: 3.5rem;
          margin-bottom: 2rem;
          line-height: 1.05;
        }
        p {
          font-size: 1.15rem;
          line-height: 1.6;
          color: var(--color-text-muted);
          margin-bottom: 2rem;
        }
      }

      /* Tech Stack Pills */
      .tech-stack {
        display: flex;
        flex-wrap: wrap;
        gap: 0.8rem;

        span {
          font-family: var(--font-mono);
          font-size: 0.9rem;
          padding: 0.6rem 1.2rem;
          border: 1px solid rgba(100, 255, 218, 0.2);
          background: rgba(100, 255, 218, 0.05);
          color: var(--color-accent);
          border-radius: 50px;
          transition: 0.3s;

          &:hover {
            background: var(--color-accent);
            color: #000;
            cursor: default;
          }
        }
      }

      /* Challenges Grid */
      .challenges-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 4rem;
      }

      .challenge-card {
        padding: 2.5rem;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        transition: 0.4s var(--ease-out);

        &:hover {
          background: rgba(255, 255, 255, 0.06);
          transform: translateY(-5px);
        }

        h3 {
          font-family: var(--font-serif);
          font-size: 1.8rem;
          margin-bottom: 1rem;
          color: #fff;
        }

        .badge {
          display: inline-block;
          font-size: 0.75rem;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          padding: 0.25rem 0.5rem;
          border-radius: 4px;
          margin-bottom: 0.5rem;

          &.problem {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
          }
          &.solution {
            background: rgba(81, 207, 102, 0.2);
            color: #51cf66;
          }
        }
      }

      /* Stats */
      .stats-container {
        display: flex;
        justify-content: space-around;
        gap: 2rem;
        margin-top: 3rem;
        flex-wrap: wrap;

        div {
          text-align: center;
        }

        h3 {
          font-family: var(--font-serif);
          font-size: 5rem;
          background: linear-gradient(
            180deg,
            #fff 0%,
            rgba(255, 255, 255, 0.5) 100%
          );
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          margin-bottom: 0.5rem;
        }
        span {
          font-family: var(--font-mono);
          text-transform: uppercase;
          letter-spacing: 0.1em;
          color: var(--color-accent);
          font-size: 0.9rem;
        }
      }

      /* CTA */
      .cta-wrapper {
        text-align: center;
        padding: 10rem 0;

        a {
          display: inline-block;
          font-family: var(--font-serif);
          font-size: 2rem;
          color: #fff;
          text-decoration: none;
          padding-bottom: 0.5rem;
          border-bottom: 1px solid rgba(255, 255, 255, 0.3);
          transition: 0.3s;

          &:hover {
            border-color: #fff;
            transform: scale(1.05);
          }
        }
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(40px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body>
    <div class="ambient-light"></div>
    <div class="bubbles">
      {/* 15 animated bubbles with random props */}
      {
        [...Array(15)].map(() => {
          const size = 20 + Math.random() * 80
          return (
            <div
              class="bubble"
              style={{
                left: `${Math.random() * 100}%`,
                width: `${size}px`,
                height: `${size}px`,
                '--duration': `${15 + Math.random() * 15}s`,
                '--sway': `${-20 + Math.random() * 40}px`,
              }}
            />
          )
        })
      }
    </div>

    <header>
      <a href="/portfolio_bpa/">Paul Blanc ¬©24</a>
      <div style="display: flex; gap: 2rem;">
        <a href="https://github.com/Polochon06/mt-conges" target="_blank">
          Source Code ‚Üó
        </a>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="tag">Java Swing ‚Ä¢ MVC Architecture</div>
        <h1>
          <span>MT-Cong√©s</span>
        </h1>
        <p>
          Application de gestion des cong√©s d'entreprise multi-projets avec syst√®me de validation hi√©rarchique. <br />
          D√©velopp√©e en Java Swing avec une architecture MVC robuste et une s√©curit√© renforc√©e.
        </p>

        <div
          class="glass-panel"
          style="padding: 2rem; border-radius: 16px; margin-top: 3rem; max-width: 1200px; width: 100%; text-align: center;"
        >
          <img
            src="/portfolio_bpa/images/works/mt-conges-login.png"
            alt="Interface Login MT Conges"
            class="showcase-img"
            style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); display: inline-block;"
          />
        </div>

        <div class="scroll-indicator">SCROLL TO EXPLORE</div>
      </section>

      <div class="container">
        <!-- Section: The Challenge -->
        <div class="section-row">
          <div class="section-content">
            <div class="tag">Le Contexte</div>
            <h2>Application RH Multi-Projets</h2>
            <p>
              MT-Cong√©s est une application desktop d√©velopp√©e pour g√©rer les demandes de cong√©s
              dans un environnement d'entreprise multi-projets (CNP et Cyber). L'application
              permet aux employ√©s de soumettre des demandes, aux responsables de les valider,
              et aux administrateurs de superviser l'ensemble du syst√®me.
            </p>
            <p>
              <strong>Fonctionnalit√©s principales :</strong><br/>
              ‚Ä¢ Gestion des demandes de cong√©s avec workflow de validation<br/>
              ‚Ä¢ Syst√®me de r√¥les √† 4 niveaux (Super-Admin, Admin, Responsable, Employ√©)<br/>
              ‚Ä¢ Suivi des soldes de cong√©s (30 jours/an par d√©faut)<br/>
              ‚Ä¢ Notifications en temps r√©el pour les changements d'√©tat<br/>
              ‚Ä¢ Association des employ√©s aux projets avec gestion des responsables<br/>
              ‚Ä¢ Historique complet et tra√ßabilit√© des demandes
            </p>
          </div>
          <div class="glass-panel">
            <h3
              class="font-serif"
              style="font-size: 2rem; margin-bottom: 1.5rem;"
            >
              Stack Technique
            </h3>
            <div class="tech-stack">
              <span>Java 17</span>
              <span>Java Swing (UI)</span>
              <span>MySQL 8.0</span>
              <span>JDBC & DAO Pattern</span>
              <span>BCrypt Encryption</span>
              <span>MVC Architecture</span>
              <span>Git</span>
            </div>
            <div style="margin-top: 2rem; font-size: 1.1rem; line-height: 1.8;">
              <span style="display:block; margin-bottom:0.5rem;">
                üóÑÔ∏è <strong>Base de donn√©es:</strong> 7 tables relationnelles
              </span>
              <span style="display:block; margin-bottom:0.5rem;">
                üîí <strong>S√©curit√©:</strong> PreparedStatements + BCrypt
              </span>
              <span style="display:block; margin-bottom:0.5rem;">
                üë• <strong>R√¥les:</strong> 4 niveaux de permissions (RBAC)
              </span>
              <span style="display:block;">
                üîî <strong>Notifications:</strong> Syst√®me d'alertes int√©gr√©
              </span>
            </div>
          </div>
        </div>

        <!-- Section: Architecture -->
        <div class="section-row reversed">
          <div class="section-content">
            <div class="tag">Architecture</div>
            <h2>Mod√®le de Donn√©es & Structure</h2>
            <p>
              L'application repose sur une <strong>architecture MVC stricte</strong> avec une base
              de donn√©es MySQL compos√©e de 7 tables interconnect√©es : utilisateur, demandeconge,
              role, projet, projet_utilisateur, notification et evenement.
            </p>
            <p>
              <strong>Points cl√©s de l'architecture :</strong><br/>
              ‚Ä¢ Pattern DAO pour l'acc√®s aux donn√©es avec PreparedStatements<br/>
              ‚Ä¢ Contraintes d'int√©grit√© r√©f√©rentielle (DELETE CASCADE, UNIQUE)<br/>
              ‚Ä¢ Indices optimis√©s sur les colonnes fr√©quemment requ√™t√©es<br/>
              ‚Ä¢ SessionManager singleton pour la gestion des sessions utilisateur<br/>
              ‚Ä¢ Interfaces Swing adaptatives selon le r√¥le connect√©<br/>
              ‚Ä¢ Syst√®me de notifications avec timestamps et statuts
            </p>
          </div>
          <div
            class="glass-panel"
            style="font-family: var(--font-mono); font-size: 0.85rem; line-height: 1.7;"
          >
            <div style="opacity: 0.7; margin-bottom: 1rem;">-- Sch√©ma Base de Donn√©es (adpv1)</div>

            <div style="color: #64ffda;">üìä utilisateur</div>
            <div style="padding-left: 1.5rem; font-size: 0.8rem; opacity: 0.8;">
              IdUtilisateur, NomUtilisateur, Nom, Pr√©nom<br/>
              Email, MotDePasse (BCrypt)<br/>
              NombreCongeRestant (d√©faut: 30 jours)<br/>
              IdRole, IdProjet
            </div>

            <div style="color: #64ffda; margin-top: 1rem;">üìù demandeconge</div>
            <div style="padding-left: 1.5rem; font-size: 0.8rem; opacity: 0.8;">
              IdConge, DureeConge, DateDebutConge<br/>
              EtatConge (En attente / Valid√© / Refus√©)<br/>
              Motif, IdUtilisateur (FK CASCADE)
            </div>

            <div style="color: #64ffda; margin-top: 1rem;">üë• role</div>
            <div style="padding-left: 1.5rem; font-size: 0.8rem; opacity: 0.8;">
              IdRole, NomRole, Permission (1-4)<br/>
              Super-Admin, Admin, Responsable, Employ√©
            </div>

            <div style="color: #64ffda; margin-top: 1rem;">üîî notification</div>
            <div style="padding-left: 1.5rem; font-size: 0.8rem; opacity: 0.8;">
              IdNotification, Message, Statut<br/>
              DateCreation, DateLecture<br/>
              Liens: IdEvenement, IdConge, IdUtilisateur
            </div>

            <div style="color: #64ffda; margin-top: 1rem;">üè¢ projet + projet_utilisateur</div>
            <div style="padding-left: 1.5rem; font-size: 0.8rem; opacity: 0.8;">
              Projets: CNP, Cyber<br/>
              Association many-to-many<br/>
              Flag est_responsable (bool√©en)
            </div>
          </div>
        </div>

        <!-- Section: Deep Dive (Grid) -->
        <div style="margin: 10rem 0;">
          <div style="text-align: center; margin-bottom: 4rem;">
            <div class="tag">Probl√®mes & Solutions</div>
            <h2 class="font-serif" style="font-size: 3.5rem;">
              Ing√©nierie Logicielle
            </h2>
          </div>

          <div class="challenges-grid">
            <div class="challenge-card">
              <span class="badge problem">S√©curit√©</span>
              <h3>Protection contre les Injections SQL</h3>
              <p style="margin-top:1rem; opacity:0.8; line-height:1.6;">
                Les donn√©es RH (emails, mots de passe, soldes de cong√©s) sont sensibles.
                Une seule faille d'injection SQL pourrait compromettre l'int√©gralit√© de la base.
              </p>
              <div
                style="margin-top:1.5rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1);"
              >
                <span class="badge solution">Solution</span>
                <p style="opacity:0.8; font-size:0.9rem;">
                  Utilisation <strong>exclusive</strong> de PreparedStatements JDBC pour toutes
                  les requ√™tes. Mots de passe chiffr√©s avec BCrypt. Validation stricte des
                  entr√©es utilisateur en amont.
                </p>
              </div>
            </div>

            <div class="challenge-card">
              <span class="badge problem">Architecture</span>
              <h3>Syst√®me RBAC √† 4 Niveaux</h3>
              <p style="margin-top:1rem; opacity:0.8; line-height:1.6;">
                G√©rer un syst√®me de permissions Role-Based Access Control avec 4 niveaux
                diff√©rents : Super-Admin, Admin, Responsable de projet et Employ√© standard.
              </p>
              <div
                style="margin-top:1.5rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1);"
              >
                <span class="badge solution">Solution</span>
                <p style="opacity:0.8; font-size:0.9rem;">
                  Table <strong>role</strong> avec colonne Permission (1-4). SessionManager
                  singleton pour la gestion de session. Interfaces Swing adaptatives selon
                  le r√¥le connect√©. Contr√¥les d'acc√®s au niveau DAO.
                </p>
              </div>
            </div>

            <div class="challenge-card">
              <span class="badge problem">Data Integrity</span>
              <h3>Coh√©rence Multi-Tables</h3>
              <p style="margin-top:1rem; opacity:0.8; line-height:1.6;">
                Maintenir l'int√©grit√© r√©f√©rentielle entre 7 tables interconnect√©es.
                Emp√™cher les chevauchements de cong√©s et les soldes n√©gatifs.
              </p>
              <div
                style="margin-top:1.5rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1);"
              >
                <span class="badge solution">Solution</span>
                <p style="opacity:0.8; font-size:0.9rem;">
                  Contraintes SQL : DELETE CASCADE sur cl√©s √©trang√®res, contraintes UNIQUE
                  sur projet-utilisateur, indices optimis√©s. Validation m√©tier c√¥t√© Java
                  avant insertion.
                </p>
              </div>
            </div>

            <div class="challenge-card">
              <span class="badge problem">UX</span>
              <h3>Notifications Temps R√©el</h3>
              <p style="margin-top:1rem; opacity:0.8; line-height:1.6;">
                Alerter instantan√©ment les utilisateurs concern√©s lors de changements
                d'√©tat des demandes (validation, refus, nouvelles demandes).
              </p>
              <div
                style="margin-top:1.5rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1);"
              >
                <span class="badge solution">Solution</span>
                <p style="opacity:0.8; font-size:0.9rem;">
                  Table <strong>notification</strong> avec statut ouvert/non-ouvert et
                  timestamps (cr√©ation, lecture). Liens contextuels vers √©v√©nements,
                  cong√©s ou utilisateurs.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Stats -->
        <div class="glass-panel" style="text-align:center; padding: 4rem 2rem;">
          <h2
            class="font-serif"
            style="font-size: 2.5rem; margin-bottom: 2rem;"
          >
            Impact du Projet
          </h2>
          <div class="stats-container">
            <div>
              <h3>7</h3>
              <span>Tables SQL</span>
            </div>
            <div>
              <h3>4</h3>
              <span>Niveaux R√¥les</span>
            </div>
            <div>
              <h3>100%</h3>
              <span>PreparedStatements</span>
            </div>
            <div>
              <h3>3</h3>
              <span>Mois Projet</span>
            </div>
          </div>
          <div style="margin-top: 3rem; font-family: var(--font-mono); font-size: 0.9rem; opacity: 0.7; line-height: 1.8;">
            <p>üìä Architecture: MVC + DAO Pattern + JDBC</p>
            <p>üîê S√©curit√©: BCrypt + PreparedStatements + Session Management</p>
            <p>üîî Features: Notifications + Workflow Validation + Multi-Projets</p>
            <p>üè¢ Projets: CNP & Cyber avec gestion des responsables</p>
          </div>
        </div>

        <!-- CTA -->
        <section class="cta-wrapper">
          <h2 class="font-serif" style="margin-bottom: 2rem; font-size: 3rem;">
            Explorer le Code Source
          </h2>
          <a href="https://github.com/Polochon06/mt-conges" target="_blank">
            Voir le d√©p√¥t GitHub ‚Üó
          </a>
        </section>
      </div>
    </main>

    <footer
      style="text-align: center; padding: 2rem; opacity: 0.4; font-family: var(--font-mono); font-size: 0.8rem;"
    >
      DEVELOPED BY PAUL BLANC ‚Ä¢ 2024
    </footer>
  </body>
</html>
